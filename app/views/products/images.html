<div>
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Secure Sign</h1>
<!-- 			<div>Image ID: {{prod.productImages[prod.products[prod.selected[0]]][prod.selected[1]].id}}</div>
			<div>Image Name: {{prod.productImages[prod.products[prod.selected[0]]][prod.selected[1]].name}}</div>
			<div>Image Description: {{prod.productImages[prod.products[prod.selected[0]]][prod.selected[1]].desc}}</div> -->
		</div>
		<!-- /.col-lg-12 -->
	</div>
	<div class="row">
	    <div class="col-lg-12">
			<div class="panel panel-default my-panel">
	            <h3 class="panel-header">
	                Create new provision
	            </h3>
	            <div>&nbsp</div>
	            <!-- /.panel-heading -->
	            <div class="panel-body">
	            <form class="col-lg-12 form-horizontal" name="myForm">
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="image-name">Name</label>
				    <div class="col-sm-10">
				      <input ng-model="imageForm.imageName" type="text" class="form-control" id="image-name" required="">
				    </div>
				  </div>
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="image-desc">Description</label>
				    <div class="col-sm-10"> 
				      <input ng-model="imageForm.imageDesc" type="text" class="form-control" id="image-desc" required="">
				    </div>
				  </div>
				  <div class="form-group">
				    <label class="control-label col-sm-2" for="image-max-num">Max num of instances</label>
				    <div class="col-sm-10"> 
				      <input ng-model="imageLimitations.num" type="number" min="0" class="form-control" id="image-max-num">
				    </div>
				  </div>
				  <div >
				    <label class="control-label col-sm-2" for="ip-range" style="padding-right:28px;">IP Range</label>
				    <div class="col-sm-9 ip-limit-col">
				    	<div class="form-group" ng-repeat="range in imageLimitations.ipRange"> 
				      		<input ng-model="imageLimitations.ipRange[$index].val" type="text" class="form-control" id="ip-range" style="margin-left:4px;">
				    	</div>
				    </div>
				    <div class="col-sm-1 ip-limit-add-col">
				    	<button type="button" ng-click="addIpRangeLimitation()" class="add-ip-btn"><a href=""><i class="fa fa-plus add-ip-icon"></i></a></button>
				    </div>
				  </div>
				  <div class="form-group"> 
				    <label class="control-label col-sm-2" for="image-file">Image File</label>
				    <div class="col-sm-10"> 
				      <!-- <input type="file" ng-model="someFile" onchange="angular.element(this).scope().setFile(this)" class="form-control" id="image-file"> -->
				      <!-- <input type="file" fileread="someFile" class="form-control" id="image-file"/> -->
				      <!-- <input type="file" nv-file-select="" uploader="uploader" class="form-control" id="image-file"> -->

				      <!-- <input type="file" ngf-select ng-model="imageUploadFile" name="imageUploadFile" class="form-control" id="image-file"> -->
				      <input type="file" ngf-select="" ng-model="imageForm.imageUploadFile" name="file" required="" class="form-control">
				      <!-- <input type="file" ngf-select ng-model="imageUploadFile" name="imageUploadFile" class="form-control" id="image-file"> -->
				    </div>
				  </div>
	            	<!-- <div class="input-group">
	            		<label class="col-md-2" for="image-name">Name</label>
						<div class="col-md-9">
						  	<input class="form-control col-md-4" type="text" id="image-name">
						</div>

	            		<label class="col-md-2" for="image-desc">Description</label>
						<div class="col-md-9">
						  	<input class="form-control col-md-4" type="text" id="image-desc">
						</div>

	            		<label class="col-md-2" for="image-file">Image File</label>
						<div class="col-md-9">
						  	<input class="form-control col-md-4" type="text" id="image-file">
						</div>
					</div> -->
					<div class="col-md-12 input-group center-div">
						<button  type="button" class="btn btn-default btn-circle btn-lg btn-accept" ng-disabled="!myForm.$valid" ng-click="addProductImage(imageForm.imageName, imageForm.imageDesc, ClientFact.getSelected().selectedService, imageForm.imageUploadFile);" disabled="disabled"><a href=""><i class="fa fa-check"></i></a></button>
						<!-- <button  type="submit" class="btn btn-default btn-circle btn-lg btn-accept" ng-click="addProductImage(prod.products[prod.selected[0]],imageName, imageDesc)"><a href=""><i class="fa fa-check"></i></a></button> -->
					</div>
				</form>
				<!-- <form name="myForm">
            <fieldset>
              Profile Picture: <input type="file" ngf-select="" ng-model="picFile" name="file" required="">
              <button ng-disabled="!myForm.$valid" ng-click="uploadPic(picFile)" disabled="disabled">Submit</button>
            </fieldset>
            <br>
          </form> -->
	            </div>
	        </div>
		</div>
	</div>
	<div class="row">
	    <div class="col-lg-12">
	        <div class="panel panel-default my-panel">
	            <h3 class="panel-header">
	                Loaded provisons
	            </h3>
	            <!-- /.panel-heading -->
	            <div class="panel-body panel-body-overscroll">
	                <div class="table-responsive col-lg-12">
	                    <table class="table table-hover">
	                        <thead>
	                            <tr>
	                                <th>Name</th>
	                                <th>Description</th>
	                                <th class="text-center">Signature</th>
	                                <th class="text-center">Token</th>
	                                <th class="text-center">Protect File</th>
	                            </tr>
	                        </thead>
	                        <tbody ng-show="ClientFact.getSelected().type == 'serviceProviders'">
	                            <!-- <tr ng-repeat="image in prod.productImages[prod.products[prod.selected[0]]]"> -->
	                            <tr ng-repeat="image in ClientFact.getSelected().images | filter: {'service_id' : ClientFact.getSelected().selectedService}">
	                                <td class="vertical-middle">{{image.name}}</td>
	                                <td class="vertical-middle">{{image.desc}}</td>
	                                <td class="text-center vertical-middle"><a ng-click="downloadDataFile(image.name + '.sig', image.signature)"><i class="fa fa-key fa-fw"></i></a></td>
	                                <td class="text-center vertical-middle"><a ng-click="downloadDataFile(image.name + '.tkn', image.access_token, true)"><i class="fa fa-lock fa-fw"></i></a></td>
				      				<!-- <td><input type="file" nv-file-select uploader="uploader" class="form-control"/></td> -->
				      				<td><input type="file" ngf-select="" ng-model="dataUploadFile" name="file" required="" class="form-control" ng-change="uploadDataFile(image.id, dataUploadFile)"></td>
	                            </tr>
	                        </tbody>
	                        <tbody ng-show="ClientFact.getSelected().type == 'customers'">
	                            <!-- <tr ng-repeat="image in prod.productImages[prod.products[prod.selected[0]]]"> -->
	                            <tr ng-repeat="image in ClientFact.getClientById[ClientFact.getSelected().spId].images | filter: {'service_id' : ClientFact.getSelected().selectedService}">
	                                <td class="vertical-middle">{{image.name}}</td>
	                                <td class="vertical-middle">{{image.desc}}</td>
	                                <td class="text-center vertical-middle"><a ng-click="downloadDataFile(image.name + '.sig', image.signature)"><i class="fa fa-key fa-fw"></i></a></td>
	                                <td class="text-center vertical-middle"><a ng-click="downloadDataFile(image.name + '.tkn', image.access_token, true)"><i class="fa fa-lock fa-fw"></i></a></td>
				      				<!-- <td><input type="file" nv-file-select uploader="uploader" class="form-control"/></td> -->
				      				<td><input type="file" ngf-select="" ng-model="dataUploadFile" name="file" required="" class="form-control" ng-change="uploadDataFile(image.id, dataUploadFile)"></td>
	                            </tr>
	                        </tbody>
	                    </table>
	                </div>
	                <!-- /.table-responsive -->
	            </div>
	            <!-- /.panel-body -->
	        </div>
	        <!-- /.panel -->
	    </div>
	<!-- /.row -->
	</div>